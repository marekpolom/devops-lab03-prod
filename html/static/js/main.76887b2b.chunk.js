(this["webpackJsonplab01-flagi"]=this["webpackJsonplab01-flagi"]||[]).push([[0],{29:function(e,t,n){e.exports=n(57)},34:function(e,t,n){},36:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(23),c=n.n(o),s=(n(34),n(12)),i=n.n(s),l=n(24),u=n(5),m=n(6),f=n(7),h=n(8),d=(n(36),n(25)),p=n.n(d);var v=function(){return new Promise((function(e){p.a.get("https://restcountries.eu/rest/v2").then((function(t){var n=t.data;try{if(n&&n.data&&n.data.error.message)throw console.log(n),new Error;e(n)}catch(a){console.error(a)}})).catch((function(e){console.log(e)}))}))},g=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{key:this.props.index,className:"flag"},r.a.createElement("img",{src:this.props.img,alt:this.props.country}),r.a.createElement("p",null,this.props.country))}}]),n}(r.a.Component),b=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"sort-btn-cont"},r.a.createElement("button",{className:"sort-btn",onClick:this.props.onClick.bind(this)},"Sort"))}}]),n}(r.a.Component),y=n(28),E=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).search=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:t=e.sent,a.setState({flags:t,searchedFlags:t}),console.log(a.state.flags);case 5:case"end":return e.stop()}}),e)}))),a.formSearch=function(e,t){var n=a.state.flags;if(console.log(t),"default"!==t&&(n=n.filter((function(e){var n=!1;return e.currencies.forEach((function(e){e.code===t&&(n=!0)})),n}))),e.length>0){var r=n.filter((function(t){return t.alpha3Code===e}));if(e===e.toUpperCase()&&r.length>0)n=n.filter((function(e){return r[0].borders.includes(e.alpha3Code)}));else{var o=new RegExp(".*".concat(e.toLowerCase(),".*"));n=n.filter((function(e){var t=e.name.toLowerCase();return o.test(t)}))}}a.setState({searchedFlags:n})},a.sortButton=function(){var e=a.state.searchedFlags,t=!a.state.sortBtn;a.setState({searchedFlags:e.reverse(),sortBtn:t})},a.state={flags:[],searchedFlags:[],sortBtn:!0},a}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.search()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"search"},r.a.createElement(y.a,{initialValues:{text:"",currency:"default"},onSubmit:function(t,n){var a=n.setSubmitting;e.formSearch(t.text,t.currency),a(!1)}},(function(t){var n=t.values,a=(t.touched,t.handleChange),o=t.handleBlur,c=t.handleSubmit,s=t.isSubmitting;return r.a.createElement("form",{onSubmit:c},r.a.createElement("input",{type:"text",name:"text",placeholder:"Country name",onChange:a,onBlur:o,value:n.text}),r.a.createElement("select",{name:"currency",value:n.currency,onChange:a,onBlur:o},r.a.createElement("option",{value:"default",key:"default"},"PICK CURRENCY"),e.state.searchedFlags.map((function(e){return e.currencies.map((function(e){var t="";return t=null===e.code?e.name:e.code,r.a.createElement("option",{value:t,key:t},t," (",e.symbol,")")}))}))),r.a.createElement("button",{type:"submit",disabled:s},"Search"))})),r.a.createElement(b,{onClick:this.sortButton})),r.a.createElement("div",{className:"main"},this.state.searchedFlags.map((function(e,t){return r.a.createElement(g,{img:e.flag,country:e.name,index:t,key:t})}))))}}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[29,1,2]]]);
//# sourceMappingURL=main.76887b2b.chunk.js.map